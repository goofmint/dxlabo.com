---
layout: post
title:  "資本主義と開発者の関係"
date:   2018-03-02 10:00:00 +0900
categories: DX 全般
excerpt_separator: <!--more-->
---

物事は永遠には続きません。仏教には諸行無常という言葉があります。万物は永遠ではなく、姿も本質も常に流動変化し続けるという意味です。それは開発者向けサービスにおいても変わりません。特に企業が提供するサービスにおいて大きな問題になるのが資本主義の影響でしょう。

<!--more-->

## Appleによる買収の怖さ

シリコンバレーを中心としてよくあるのがM&Aです。企業買収によって、サービスを閉じてしまうと言うパターンです。例えばTestfightというサービスがありました。これはスマートフォン用のテストアプリを配布できるプラットフォームで、アプリ開発者にとって欠かせないサービスとなっていました。ここでスマートフォン用と書いたのはiOS/Android両方に対応していたからです。しかしAppleが2014年03月にTestflightを買収し、即座にAndroid向けのサービスを停止しました。これはAndroid開発者にとっては大きな打撃であり、DeployGateやCrashlyticsといったサービスへの乗り換えを余儀なくされました。これまでのワークフローを変えるというのはすでに動いているプロジェクトにおいて、大きなダメージです。

Appleは最近、Buddybuildを買収しました。Buddybuildはスマートフォンアプリ用のCIサービスで、GitHub/BitBucket/GitLabといったサービスと連携できます。そして、ここでもスマートフォン用と書いたのは、BuddybuildがiOSとAndroidに対応していたからです。Appleによる買収を受けて、Androidサポートの終了が発表されました。このような買収によるサービス停止というのは開発者の信頼を大きく損なうことになるでしょう。また別なサービスが出てきたからと言って、AppleまたはGoogleの買収を恐れて使えないというのでは大きな損になります。かといって導入しても頼り切りになると、サービス停止時のリスクが大きくなります。

Appleの買収は他社に対して非常に攻撃的です。こういった方法は結果としてスマートフォンアプリ開発のエコシステムが広がらないのではないかと懸念してしまいます。少なくとも私であれば類似のオープンソース・ソフトウェアを使いたいと考えるでしょう。

## 方針転換のリスト

買収後は良くとも、しばらくすると方針展開することもあります。その一例がParse.comです。Parse.comはmBaaS、mobile Backend as a Serviceの先駆者と言えるサービスです。スマートフォンアプリが次々と作られていく中、必要になるサーバサイドの機能を提供していました。Facebookは2013年、8,500万ドルで買収しました。その後、サービスをどんどん拡大していく中で、誰もがFacebookとParse.comを信頼して利用し続けていました。

そんな中、2016年01月に突如Parse.comの終了をアナウンスしました。アプリのバックエンドで使われているということもあり、突然閉鎖すると影響はとても大きいものになります。それもあって猶予期間は一年間用意されており、スマートフォンアプリ開発者はiOSやAndroidのOSアップデートにも対応しつつ、Parse.com以外の選択肢を模索しなければなりませんでした。Parse.comはソフトランディングさせるためのアイディアとして、オープンソース版のParse.comを提供しました。これによって自社で立てるのはもちろん、オープンソース版のParse.comをクラウドサービスで提供する企業も登場しました。これは結果として良い落としどころだったと思います。

リブランディングの例としてはGoogleによるFirebaseの買収があります。Firebaseは元々リアルタイムデータベースサービスでしたが、一旦クローズした後でmBaaSとして復活しました。これは基本的にアクセス解析などの機能追加がメインで、元々の機能は互換性があるようです。料金体系などは変わったかも知れませんが、それでもサービスが拡大していくというのは開発者にとってポジティブな体験になります。

GoogleではPixate、Writelyなど買収後にサービスを閉鎖する場合もありますが、YouTubeやSketchUp、Urchinなど買収後にサービスを拡大したり、無料化するケースもあります。どういった基準かは定かではありませんが、Appleほど酷くはありません。

## サービス閉鎖のリスク

ただしGoogleは提供しているサービスを容赦なく終わらせることでも有名です。2016年に7つ、2017年にも多数のサービスを終了しています。例えば有名なところでは下記のサービスがあります。

- Google Site Search
- Google Drive App
- Google Talk
- Google Spaces
- Google feed API
- Google Tango


この中には新しいサービスへの移行（例えばGoogle TalkはGoogle ハングアウトなど）が想定されている場合もありますが、まったく用意されていない場合もあります。開発者としては2016年に終了したGoogle Codeであったり、Google feed API、Google Site Searchなどがなくなってしまうのは大きな損失ではないでしょうか。

Googleは数多くの便利なサービスを作っていますが、無料のものも多くてSLAがなく、彼らのさじ加減で継続と終了がすぐに判断されてしまうイメージがあります。そのため、開発者としては安心して使い続けられないリスクがあります。これで良いと考えているのかは甚だ疑問です。少なくとも私の開発者としての視点でいけば、Googleの提供するサービスだけに重要なデータを保存する気にはなりません。バックアップがあったり、別なサービスのホットスタンバイとして使う程度でしょう。

## AWSの場合

クラウドの最大手のサービスと言えばAWSですが、彼らはどうでしょうか。ちょっと調べてみた限りではAWSにおいて一つのサービスがまるまるなくなったり、機能の互換性がないサービス終了は見当たりません。一番最初にあったEC2やS3は今も健在ですし、年々バージョンアップしています。そうした継続性が開発者との間に強固な信頼を築いてきたと言えないでしょうか。[グローバルなクラウドシェアはAWSが34%、Microsoftが11%、IBMが8%そしてGoogleが5%](https://www.srgresearch.com/articles/leading-cloud-providers-continue-run-away-market)です。このシェアは開発者の信頼を見ることもできるでしょう。MicrosoftやIBMはエンタープライズ企業を顧客としており、安易な機能削除やサービス停止は行っていません。今なお20世紀に作られたExcelファイルが開けたり、VB6で作ったプログラムがWindows10で動いたりするのも継続性の証と言えます。

![クラウドサービスのシェア](/images/cloud-share.png)

開発者との信頼関係は一朝一夕にできるものではありません。また、機能によって一気に積み上げられるものでもないでしょう。それは継続性によって、ゆっくりと蓄積されるのです。安易にサービスを開発してリリースし、うまくいかなかったら終了するといったことを繰り返していれば、せっかくの開発者との信頼関係を容易に壊してしまうことになるでしょう。

## M&Aのリスク

ここで日本における一例を紹介します。とある企業がコンシューマ部門と企業部門に分かれて買収されました。エンタープライズ部門のあるサービスは、認証基盤としてコンシューマ部門が持っていたサービスに依存していました。彼らは協議し、数年間の猶予で認証を使い続けられるようにしました。とは言え猶予に期限がありますので、エンタープライズ部門では機能を追加して認証基盤を変更せざるを得ませんでした。認証を変更したしわ寄せはもちろん開発者にきます。開発者は期限までに認証を切り替えないと、二度と自分のデータにアクセスできなくなりました。

さらにサービス名の問題がありました。サービス名は一つの冠があって、そこから派生してネーミングされていました。その冠はコンシューマ部門が持っており、ネーミングの変更が必要になってしまいました。これはSEOであったり、配付資料、ソーシャルアカウント名など多岐に渡って変更が必要になります。これまで築いてきたブランドが一気になくなってしまい、Googleの検索結果順位も落ちてしまいました。

最後にサービス名変更に伴うドメイン変更です。エンタープライズ部門ではクラウドサービスを提供しており、それらのドメインは共通のものでした。これを新しいドメインに変更しないといけません。その中にはアプリ用のサービスもあり、アプリに組み込むSDKにはドメインがハードコーディングされています。それらをアップデートしなければなりません。リダイレクトでしばらくはしのげるものの、いつかは使えなくなります。これは非常に大きなリスクで、開発者との信頼関係を大きく毀損してしまうものです。

### 回避策

こうした問題を回避するためにできることとして、まずサービス名は個々に別なものにした方が良いでしょう。例えばFacebookはそれが上手で、Facebookの他にInstagram、WhatsApp、Oculus、Messengerなど独立しています。Parse.comは終了しましたが、それでもサービス名は独立したものでした。これがFacebook mBaaSなんて名称だったとしたらFacebookに対する信頼をもっと損なっていたでしょう。同じようにSalesforceはHerokuを独立した存在として扱っています。

次にクラウドサービスの場合はカスタムドメインを使えるようにしておきましょう。そうすることでいざサービス終了になったとしても、乗り換え先のサービスに互換性があればドメインを変更すれば大きな問題にならない可能性が高くなります。何より、開発者のデータを彼ら自身のドメイン管理化にしておくことで、データの保存先がクラウドであったとしても表面上は彼らの自由に操作できるデータとして認識できるようになるでしょう。少し前であればSSLの問題がありましたが、Let's Encryptなどを使えば最低限のセキュリティは担保できます。

その他オープンデータへの対応であったり、オープンソース版の提供も視野に入れておくと良いでしょう。Google Codeは閉鎖を決定したタイミングでGitHubへのエクスポート機能を提供しました。そういった他社サービスへの移行を容易にする仕組みも最後のDX（開発者体験）として重要になるでしょう。

----

M&Aや企業の方針転換によってサービスが影響を受けることは避けられません。しかし、そのしわ寄せは必ずあなたの開発者に襲いかかるでしょう。一度損なった信頼を取り戻すのは容易ではありません。それは会社はもちろんのこと、エバンジェリストとしての立場も危うくするはずです。開発者を裏切ったり、失望させたりせずにサービス提供を継続する、安易なM&Aよりも開発者との信頼性を重視する傾向があっても良いのではないでしょうか。少なくとも、こと開発者向けサービスにおいては安易なサービス投入や機能追加をせず、しっかりと地に足を付けて行ってほしいものです。

